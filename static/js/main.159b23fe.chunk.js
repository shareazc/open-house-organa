(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(t,e,a){},146:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),l=a(20),c=a.n(l),o=(a(90),a(40)),s=a(29),i=a(83),u=a(10),d=a(11),m=a(13),h=a(12),f=a(21),p=a(14),b=a(33),E=a(69),v=a.n(E),g=a(147),j=function(t){return r.a.createElement(g.a,null,t.children)},O=a(34),S=a(70),y=a.n(S),k=a(71),D=a.n(k),x=a(150),w=a(72),B=a.n(w);function I(){var t=Object(b.a)(["\n    .modal-content{\n        text-align: center;\n    }\n"]);return I=function(){return t},t}var N=O.a.div(I()),A=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(m.a)(this,Object(h.a)(e).call(this,t))).state={redirect:!1,data:[],totalStudents:0,totalData:[],studentName:[],handleSuccess:!1},a}return Object(p.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch("https://laboratoria-la.firebaseapp.com/cohorts/gdl-2019-01-bc-core-gdl-002/users").then(function(t){return t.json()}).then(function(e){var a=e.filter(function(t){return"student"===t.role});return t.setState({totalStudents:a.length,totalData:a}),console.log(t.state.totalData),console.log(t.props.scanId),t.findStudent(t.props.scanId,t.state.totalData),a})}},{key:"findStudent",value:function(t,e){var a=e.find(function(e){return e.id===t});if(void 0!==a){var n=a.name;return this.setState({studentName:n}),n}}},{key:"render",value:function(){var t=this.state.studentName;return r.a.createElement(N,null,r.a.createElement(x.a.Dialog,null,r.a.createElement(x.a.Header,null,r.a.createElement(x.a.Title,null,r.a.createElement("h2",null,"\xa1Bienvenida! ",r.a.createElement("h4",null,t)))),r.a.createElement(x.a.Body,null,r.a.createElement("img",{src:B.a,alt:"success",style:{height:300}}),r.a.createElement("p",null,"Tu asistencia ha sido registrada exitosamente.")),r.a.createElement(x.a.Footer,null)))}}]),e}(r.a.Component),T=a(39),C=a.n(T),L=a(53);L.initializeApp({apiKey:"AIzaSyASTPd1SOP_zzb369dwfWIR-dP7wVCexJk",authDomain:"open-house-organa.firebaseapp.com",databaseURL:"https://open-house-organa.firebaseio.com",projectId:"open-house-organa",storageBucket:"open-house-organa.appspot.com",messagingSenderId:"512283806532",appId:"1:512283806532:web:d879606f6b83049d"});var P=L,z=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(m.a)(this,Object(h.a)(e).call(this,t))).state={date:C()().format("ll")},a}return Object(p.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){var t=C()().format("ll");P.database().ref().child("attendance").child(t).set([{total:this.props.attendance}])}},{key:"render",value:function(){return r.a.createElement("div",null," ")}}]),e}(r.a.Component),M=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(m.a)(this,Object(h.a)(e).call(this,t))).state={data:[],totalStudents:0,totalData:[],studentName:{},handleSuccess:!1},a.findStudent=a.findStudent.bind(Object(f.a)(a)),a}return Object(p.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){var t=this;fetch("https://laboratoria-la.firebaseapp.com/cohorts/gdl-2019-01-bc-core-gdl-002/users").then(function(t){return t.json()}).then(function(e){var a=e.filter(function(t){return"student"===t.role});return t.setState({totalStudents:a.length,totalData:a}),P.database().ref().child("totalStudentsInDB").set({totalStudents:t.state.totalStudents}),t.findStudent(t.props.scanId,t.state.totalData),a})}},{key:"findStudent",value:function(t,e){var a=e.find(function(e){return e.id===t});if(void 0!==a){var n=a.name;return this.setState({studentName:n}),n}}},{key:"render",value:function(){return r.a.createElement("div",null)}}]),e}(n.Component);function R(){var t=Object(b.a)(["\n  * {\n    margin-top: 2rem;\n    margin: auto;\n    text-align: center;\n    border-radius: 1rem;\n  }  \n\n"]);return R=function(){return t},t}var J=O.a.div(R()),W={height:"100px",float:"right"},K=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(m.a)(this,Object(h.a)(e).call(this,t))).state={delay:500,result:!1,attendance:[],scanner:[],cleanAttendance:[]},a.scanData=a.scanData.bind(Object(f.a)(a)),a.findDuplicate=a.findDuplicate.bind(Object(f.a)(a)),a}return Object(p.a)(e,t),Object(d.a)(e,[{key:"scanData",value:function(t){this.setState({result:t})}},{key:"findDuplicate",value:function(t){null!=t&&(this.setState({scanner:t}),this.setState({attendance:[].concat(Object(i.a)(this.state.attendance),[this.state.scanner])}),this.setState({result:!0}))}},{key:"handleError",value:function(t){console.error(t)}},{key:"render",value:function(){var t=this;if(!1!==this.state.result)return setTimeout(function(){return t.setState({result:!1})},3e3),r.a.createElement(A,{scanId:this.state.scanner});return r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("img",{className:"brackets",src:D.a,style:{height:100},alt:"LabBrackets"}),r.a.createElement(j,null,r.a.createElement(J,null,r.a.createElement("h1",null,"\xa1Bienvenida!"),r.a.createElement("p",null,"Por favor, escanea tu c\xf3digo QR"),r.a.createElement(v.a,{delay:this.state.delay,style:{width:400},onError:this.handleError,onScan:this.findDuplicate}),r.a.createElement("h1",null,this.state.result))),r.a.createElement(z,{attendance:this.state.attendance}),r.a.createElement("img",{className:"brackets",src:y.a,style:W,alt:"LabBrackets"}))}}]),e}(n.Component),F=a(153),H=function(t){function e(){return Object(u.a)(this,e),Object(m.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return r.a.createElement(F.a,{className:"text-center"},r.a.createElement(F.a.Body,null,r.a.createElement(F.a.Title,null,"Asistencias"),r.a.createElement(F.a.Text,null,r.a.createElement("span",{className:"numbers",style:{fontSize:60}},this.props.totalAttendance)),r.a.createElement(F.a.Text,null,r.a.createElement("small",{className:"text-muted"},"Total de estudiantes ",r.a.createElement("span",{className:"numbers"},this.props.totalStudents)))))}}]),e}(r.a.Component),Q=function(t){function e(){return Object(u.a)(this,e),Object(m.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this.props.totalStudents-this.props.totalAttendance;return r.a.createElement(F.a,{className:"text-center"},r.a.createElement(F.a.Body,null,r.a.createElement(F.a.Title,null,"Inasistencias"),r.a.createElement(F.a.Text,null,t)))}}]),e}(r.a.Component),U=a(148),V=a(149),$=function(t){function e(){var t;return Object(u.a)(this,e),(t=Object(m.a)(this,Object(h.a)(e).call(this))).state={date:[],totalAttendance:0,totalStudents:0},t}return Object(p.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){var t=this,e=P.database().ref("attendance"),a=P.database().ref("totalStudentsInDB");e.on("value",function(e){var a=e.val(),n=function(e){a[e].map(function(a,n){var r=a.total;return t.setState({date:e,totalAttendance:r.length}),r})};for(var r in a)n(r)}),a.on("value",function(e){var a=e.val();t.setState({totalStudents:a.totalStudents})})}},{key:"render",value:function(){return r.a.createElement(g.a,null,r.a.createElement("br",null),r.a.createElement(U.a,null,r.a.createElement(V.a,{lg:8},r.a.createElement("h1",null,r.a.createElement(H,{totalAttendance:this.state.totalAttendance,totalStudents:this.state.totalStudents}))),r.a.createElement(V.a,{lg:4},r.a.createElement("h2",null,r.a.createElement(Q,{totalAttendance:this.state.totalAttendance,totalStudents:this.state.totalStudents})))))}}]),e}(r.a.Component),_=a(152),q=a(151),G=a(77),X=a.n(G);function Y(){return r.a.createElement("h5",null," ",C()().format("lll"))}function Z(){var t=Object(b.a)(["\n  .navbar {\n    background-color: #ffe521;\n  }\n\n  .h1, .h2, .h3, .h4, .h5, .h6, h1, h2, h3, h4, h5, h6{\n    margin-top: .5rem;\n    margin-right:  6rem;\n  }\n"]);return Z=function(){return t},t}var tt=O.a.div(Z()),et=function(t){function e(){return Object(u.a)(this,e),Object(m.a)(this,Object(h.a)(e).apply(this,arguments))}return Object(p.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return r.a.createElement(tt,null,r.a.createElement(_.a,{expand:"lg"},r.a.createElement(_.a.Brand,null,r.a.createElement("img",{src:X.a,width:"200",height:"25",alt:"Logo Laboratoria"})),r.a.createElement(_.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(_.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(q.a,{className:"ml-auto"},r.a.createElement(q.a.Item,null,r.a.createElement(Y,null)),r.a.createElement(q.a.Item,null,r.a.createElement(q.a.Link,null,r.a.createElement(o.b,{to:"/"},"Scanner"))),r.a.createElement(q.a.Item,null,r.a.createElement(q.a.Link,null,r.a.createElement(o.b,{to:"/summary"},"Resumen")))))))}}]),e}(r.a.Component),at=function(){return r.a.createElement("h1",null,"No Match")};a(145);var nt=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(et,null),r.a.createElement(s.c,null,r.a.createElement(s.a,{exact:!0,path:"/",component:K}),r.a.createElement(s.a,{path:"/summary",component:$}),r.a.createElement(s.a,{path:"/success",component:A}),r.a.createElement(s.a,{component:at}))),r.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(nt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},70:function(t,e,a){t.exports=a.p+"static/media/PinkBracketsRight.ab37d7c1.png"},71:function(t,e,a){t.exports=a.p+"static/media/PinkBracketsLeft.44a8ef37.png"},72:function(t,e,a){t.exports=a.p+"static/media/check-animation-v2.6769f08a.gif"},77:function(t,e,a){t.exports=a.p+"static/media/LaboratorialogoBLK.bcdab9d9.png"},85:function(t,e,a){t.exports=a(146)},90:function(t,e,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.159b23fe.chunk.js.map